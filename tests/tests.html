<!DOCTYPE html>
<html lang="en">
<head>
	<title>SQL to POCO converter - Tests</title>
	<meta charset="utf-8">
</head>
<body>
	<script src="tinytest.js"></script>
	<script src="../src/script.js"></script>
	<script>
		tests({

			'simple_conversion': function() {

				const input = `
CREATE TABLE persons (
    id INT
);`
				const expectedOutput = `
public class Persons
{
    public int id;
}`
				var options = new OutputOptions();
				var output = generateString(input, options);

				eq(expectedOutput.trim(), output.trim());
			},

			'simple_conversion_with_line_comment': function() {

				const input = `
CREATE TABLE persons (
    id INT -- This is a comment.
);`
				const expectedOutput = `
public class Persons
{
    public int id;
}`
				var options = new OutputOptions();
				var output = generateString(input, options);

				eq(expectedOutput.trim(), output.trim());
			},

			'constraints_are_ignored': function() {

				const input = `
CREATE TABLE persons (
    id INT,
    CONSTRAINT id_check CHECK (id = (0)::numeric))
);`
				const expectedOutput = `
public class Persons
{
    public int id;
}`
				var options = new OutputOptions();
				var output = generateString(input, options);

				eq(expectedOutput.trim(), output.trim());
			},
		});
	</script>
</body>
</html>